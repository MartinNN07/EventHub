@using EventHub.Web.Models.Category
@model CategoryViewModel

@{
	ViewData["Title"] = "Delete Category";
}

<div class="container py-4">
	<div class="row justify-content-center">
		<div class="col-md-8 col-lg-6">
			<div class="card shadow-sm border-danger">
				<div class="card-header bg-danger text-white">
					<h4 class="mb-0">@ViewData["Title"]</h4>
				</div>
				<div class="card-body">
					<div class="alert alert-warning">
						<i class="bi bi-exclamation-triangle"></i> Are you sure you want to delete this category?
					</div>

					<dl class="row">
						<dt class="col-sm-4">Name:</dt>
						<dd class="col-sm-8">@Model.Name</dd>

						<dt class="col-sm-4">Events:</dt>
						<dd class="col-sm-8">
							<span class="badge bg-info">@Model.EventCount event(s)</span>
						</dd>
					</dl>

					@if (Model.EventCount > 0)
					{
						<div class="alert alert-danger">
							<i class="bi bi-exclamation-circle"></i> <strong>Warning:</strong> This category has @Model.EventCount associated event(s). You must remove or reassign these events before deleting this category.
						</div>
					}

					<form asp-action="Delete" method="post">
						<input type="hidden" asp-for="Id" />
						<div class="d-flex justify-content-between mt-4">
							<a asp-action="Index" class="btn btn-secondary">
								<i class="bi bi-arrow-left"></i> Back to List
							</a>
							<button type="submit" class="btn btn-danger" @(Model.EventCount > 0 ? "disabled" : "")>
								<i class="bi bi-trash"></i> Delete Category
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
